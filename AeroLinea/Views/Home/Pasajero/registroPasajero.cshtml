@model AeroLinea.Models.Pasajero
@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Registro de Usuario</title>
    <link rel="stylesheet" href="~/css/Pasajero/registroPasajero.css" />
    <style>
        .field-validation-error {
            color: #dc3545;
            font-size: 0.875em;
            margin-top: 0.25rem;
            display: block;
        }

        .input-validation-error {
            border-color: #dc3545;
        }
    </style>
</head>
<body>
    <div class="registro-container">
        <div class="logo-container">
            <img src="~/images/starperu-logo.png" alt="Star Perú" class="logo" />
        </div>
        <h2>¡Bienvenido a bordo viajero/a!</h2>
        <p class="subtitle">Completa el formulario para unirte a nuestra familia Star Perú.</p>

        @if (TempData["Error"] != null)
        {
            <div class="error-message" style="display: block;">
                @TempData["Error"]
            </div>
        }

        <form id="registroForm" method="post" asp-controller="Home" asp-action="registroPasajero">
            <div class="form-group">
                <label for="name">Nombres</label>
                <input type="text" asp-for="name" class="form-control" placeholder="Ingresa tus nombres" />
                <span asp-validation-for="name" class="field-validation-error"></span>
            </div>
            <div class="form-group">
                <label for="lastname">Apellidos</label>
                <input type="text" asp-for="lastname" class="form-control" placeholder="Ingresa tus apellidos" />
                <span asp-validation-for="lastname" class="field-validation-error"></span>
            </div>

            <!-- NUEVO -->
            <div class="form-group">
                <label for="fechaNacimiento">Fecha de Nacimiento</label>
                <input type="date" asp-for="fechaNacimiento" class="form-control" />
                <span asp-validation-for="fechaNacimiento" class="field-validation-error"></span>
            </div>

            <!-- NUEVO -->
            <div class="form-group">
                <label for="telefono">Teléfono móvil</label>
                <input type="text" asp-for="telefono" class="form-control" maxlength="9" placeholder="Ej: 987654321" />
                <span asp-validation-for="telefono" class="field-validation-error"></span>
            </div>

            <!-- NUEVO -->
            <div class="form-group">
                <label for="tipoDocumento">Tipo de Documento</label>
                <select asp-for="tipoDocumento" class="form-control">
                    <option value="">Seleccione</option>
                    <option value="DNI">DNI</option>
                    <option value="Pasaporte">Pasaporte</option>
                </select>
                <span asp-validation-for="tipoDocumento" class="field-validation-error"></span>
            </div>

            <div class="form-group">
                <label for="sender_id">Número de Documento</label>
                <input type="text" asp-for="sender_id" class="form-control" placeholder="Ingresa tu documento" maxlength="15" />
                <span asp-validation-for="sender_id" class="field-validation-error"></span>
            </div>

            <div class="form-group">
                <label for="email">E-MAIL</label>
                <input type="email" asp-for="email" class="form-control" placeholder="Ingresa tu correo electrónico" />
                <span asp-validation-for="email" class="field-validation-error"></span>
            </div>

            <div class="form-group">
                <label for="password">Contraseña</label>
                <input type="password" asp-for="password" class="form-control" placeholder="Ingresa tu contraseña" />
                <span asp-validation-for="password" class="field-validation-error"></span>
            </div>

            <!-- NUEVO -->
            <div class="form-group">
                <label for="discapacidad">¿Tienes alguna discapacidad?</label>
                <select asp-for="discapacidad" class="form-control" id="discapacidad">
                    <option value="false">No</option>
                    <option value="true">Sí</option>
                </select>
            </div>

            <!-- NUEVO -->
            <div class="form-group" id="tipoDiscapacidadContainer" style="display:none;">
                <label for="tipoDiscapacidad">¿Qué tipo de discapacidad?</label>
                <input asp-for="tipoDiscapacidad" class="form-control" placeholder="Describe tu discapacidad" />
            </div>

            <div class="button-group">
                <button type="submit" class="btn btn-primary">Registrar</button>
                <a asp-controller="Home" asp-action="Autenticacion" class="btn btn-secondary">Volver</a>
            </div>
        </form>
    </div>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>

    <!-- NUEVO -->
    <script>
        $(document).ready(function () {
            $('#discapacidad').change(function () {
                if ($(this).val() === 'true') {
                    $('#tipoDiscapacidadContainer').show();
                } else {
                    $('#tipoDiscapacidadContainer').hide();
                    $('#tipoDiscapacidad').val('');
                }
            }).trigger('change');
        });
    </script>
</body>
</html>